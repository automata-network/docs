# Appendix

## `_extractData()`

### Rationale

Users may request and consume additional data generated by a trusted hardware.

To request for a data, users need to specify the type of data to consume using an integer denoted cateogory. For instance, users need to assign `extendParamData = 1` to request for a VRF generated random number, which can be extracted in the target smart contract.

This section goes into the technical detail of the data extraction process.

### Specification

The requested param data is being appended after the `metatx.data` followed by the 20-byte address `metatx.from`. This entire data is then being forwarded to the target contract to execute functions. For the target contract to retrieve the given value from the data, inline assembly is required to slice the `extendParamData` portion out of `msg.data`.

The data to be forwarded to the base contract follows the structure as described by the table below:

| `metatx.data` | `extendParamData` | length of `extendParamData` | `metatx.from` |
|---|---|---|---|
| < dynamically sized > | < dynamically sized > | < 32 bytes > | < 20 bytes >  |

**âš  NOTE:** The data is being fed to the consumer smart contract as a dynamically sized `bytes` array. The consumer is responsible for decoding the raw data to its appropriate type. Using the same example with random numbers as above, the consumer should decode the raw bytes data to a `uint256` value.
